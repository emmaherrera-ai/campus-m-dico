<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard Estudiante - Campus M√©dico</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      min-height: 100vh;
      background: radial-gradient(circle at top, #3a7bd5, #141e30);
      color: #f5f7ff;
      display: flex;
      justify-content: center;
      padding: 24px;
    }

    .dashboard {
      width: 100%;
      max-width: 1200px;
      background: rgba(6, 13, 32, 0.96);
      border-radius: 18px;
      box-shadow: 0 24px 50px rgba(0, 0, 0, 0.6);
      padding: 20px 24px 28px;
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    /* NAV SUPERIOR */
    .top-nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      padding-bottom: 10px;
    }

    .brand {
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      font-size: 13px;
      color: #a7c7ff;
    }

    .nav-links {
      display: flex;
      gap: 16px;
      align-items: center;
      font-size: 13px;
    }

    .nav-links span {
      cursor: pointer;
      padding: 6px 10px;
      border-radius: 999px;
      color: #c5d1ff;
      transition: background 0.2s ease, color 0.2s ease;
    }

    .nav-links span.active {
      background: rgba(40, 89, 255, 0.22);
      color: #ffffff;
    }

    .nav-links span:hover {
      background: rgba(255, 255, 255, 0.05);
    }

    .user-circle {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 2px solid #3c6dff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      font-weight: 600;
      color: #c9d5ff;
    }

    /* CURSO ACTUAL */
    .current-course {
      margin-top: 4px;
      background: radial-gradient(circle at top left, rgba(69, 130, 255, 0.5), transparent),
                  radial-gradient(circle at bottom right, rgba(0, 255, 210, 0.35), transparent),
                  rgba(10, 20, 46, 0.95);
      border-radius: 16px;
      padding: 18px 20px;
      display: grid;
      grid-template-columns: 1.4fr 1fr;
      gap: 14px;
    }

    @media (max-width: 800px) {
      .current-course {
        grid-template-columns: 1fr;
      }
    }

    .current-course-main h2 {
      font-size: 20px;
      margin-bottom: 4px;
    }

    .current-course-main .category {
      font-size: 12px;
      color: #c0cdfa;
      margin-bottom: 8px;
    }

    .current-course-main p {
      font-size: 13px;
      color: #d4ddff;
      max-width: 420px;
    }

    .current-course-actions {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      justify-content: space-between;
      gap: 12px;
    }

    .current-course-actions .progress-text {
      font-size: 12px;
      color: #c2cff9;
    }

    .progress-bar {
      width: 140px;
      height: 6px;
      background: rgba(12, 21, 50, 0.9);
      border-radius: 999px;
      overflow: hidden;
    }

    .progress-bar-fill {
      height: 100%;
      width: 45%;
      border-radius: 999px;
      background: linear-gradient(90deg, #34d399, #4ade80);
    }

    .btn-row {
      display: flex;
      gap: 10px;
    }

    .btn-primary,
    .btn-secondary {
      border-radius: 999px;
      border: none;
      padding: 8px 14px;
      font-size: 13px;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      font-weight: 600;
      transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.15s ease;
    }

    .btn-primary {
      background: linear-gradient(135deg, #2859ff, #3f8bff);
      color: #fff;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
    }

    .btn-secondary {
      background: transparent;
      color: #e5ecff;
      border: 1px solid rgba(255, 255, 255, 0.4);
    }

    .btn-primary:hover,
    .btn-secondary:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.5);
    }

    .btn-primary:active,
    .btn-secondary:active {
      transform: translateY(0);
      box-shadow: none;
    }

    /* SECCIONES DE CURSOS */
    .sections {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 4px;
    }

    .section {
      padding-top: 4px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 10px;
    }

    .section-title {
      font-size: 15px;
      font-weight: 600;
    }

    .section-header a {
      font-size: 11px;
      color: #8fb5ff;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .section-header a span {
      font-size: 13px;
    }

    .courses-row {
      display: flex;
      gap: 12px;
      overflow-x: auto;
      padding-bottom: 4px;
    }

    .courses-row::-webkit-scrollbar {
      height: 6px;
    }

    .courses-row::-webkit-scrollbar-track {
      background: transparent;
    }

    .courses-row::-webkit-scrollbar-thumb {
      background: rgba(103, 129, 200, 0.5);
      border-radius: 999px;
    }

    /* CARD DE CURSO CON IMAGEN */
    .course-card {
      background: rgba(12, 22, 54, 0.96);
      border-radius: 14px;
      border: 1px solid rgba(255, 255, 255, 0.06);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      min-width: 210px;
    }

    .course-image-wrapper {
      position: relative;
      width: 100%;
      aspect-ratio: 4 / 3;
      background: linear-gradient(135deg, #1d4ed8, #0f172a);
      overflow: hidden;
    }

    .course-image-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      filter: saturate(1.05);
    }

    .course-ribbon {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      background: #1d4ed8;
      color: #ffffff;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      text-align: center;
      padding: 4px 6px;
      letter-spacing: 0.06em;
    }

    .course-ribbon.terminado {
      background: #1e40af;
    }

    .course-ribbon.disponible {
      background: #0369a1;
    }

    .course-info {
      padding: 8px 10px 10px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .course-title {
      font-size: 13px;
      font-weight: 700;
    }

    .course-meta {
      font-size: 11px;
      color: #b8c3f9;
    }

    .course-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 6px;
      font-size: 11px;
      gap: 6px;
    }

    .course-status-text {
      color: #e5e7eb;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .course-cta {
      border-radius: 999px;
      border: none;
      padding: 4px 10px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
      flex-shrink: 0;
      transition: background 0.15s ease, transform 0.1s ease, box-shadow 0.1s ease;
    }

    .course-cta.inscribir {
      background: #2563eb;
      color: #f9fafb;
      box-shadow: 0 6px 12px rgba(15, 23, 42, 0.6);
    }

    .course-cta.continuar {
      background: #16a34a;
      color: #ecfdf5;
      box-shadow: 0 6px 12px rgba(15, 23, 42, 0.6);
    }

    .course-cta.revisar {
      background: #0f172a;
      color: #e5e7eb;
      border: 1px solid rgba(148, 163, 184, 0.6);
    }

    .course-cta:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 18px rgba(0, 0, 0, 0.6);
    }

    .course-cta:active {
      transform: translateY(0);
      box-shadow: none;
    }

    /* SLIDER (Actualizaci√≥n M√©dica) */
    .slider-wrapper {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .slider-window {
      overflow: hidden;
      flex: 1;
    }

    .slider-inner-row {
      display: flex;
      gap: 12px;
    }

    /* Las cards en el slider ocupan 4 columnas en desktop */
    .slider-inner-row .course-card {
      min-width: 0;
      flex: 0 0 calc((100% - 36px) / 4); /* 4 cards con 3 gaps de 12px */
    }

    @media (max-width: 900px) {
      .slider-inner-row .course-card {
        flex: 0 0 calc((100% - 12px) / 2); /* 2 cards */
      }
    }

    @media (max-width: 600px) {
      .slider-inner-row .course-card {
        flex: 0 0 100%; /* 1 card */
      }
    }

    /* Cards en secciones normales (no slider): ancho est√°ndar */
    .courses-row .course-card {
    flex: 0 0 260px;        /* ancho fijo en desktop */
    }

    @media (max-width: 900px) {
    .courses-row .course-card {
        flex: 0 0 calc((100% - 12px) / 2); /* 2 por fila en tablet */
    }
    }

    @media (max-width: 600px) {
    .courses-row .course-card {
        flex: 0 0 100%;       /* 1 por fila en m√≥vil */
    }
    }

    .slider-arrow {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.4);
      background: rgba(10, 18, 40, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      flex-shrink: 0;
      transition: background 0.15s ease, transform 0.1s ease, opacity 0.15s ease;
    }

    .slider-arrow span {
      font-size: 18px;
      line-height: 1;
    }

    .slider-arrow.disabled {
      opacity: 0.3;
      cursor: default;
    }

    .slider-arrow:not(.disabled):hover {
      background: rgba(255, 255, 255, 0.08);
      transform: translateY(-1px);
    }

    /* ================================
   SECCI√ìN EDITORIAL / INNOVACI√ìN
    ================================ */
    .editorial-section {
    margin-top: 32px;
    }

    .editorial-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    }

    .editorial-card {
    background: #ffffff;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 18px 40px rgba(0,0,0,0.45);
    }

    .editorial-card img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    }

    .editorial-card .content {
    padding: 14px 16px 16px;
    }

    .editorial-card h3 {
    font-size: 16px;
    font-weight: 700;
    margin-bottom: 4px;
    color: #020617;
    }

    .editorial-card .date {
    font-size: 13px;
    color: #64748b;
    margin-bottom: 8px;
    }

    .editorial-card .excerpt {
    font-size: 13px;
    color: #1e293b;
    margin-bottom: 12px;
    }

    .editorial-card a {
    font-size: 13px;
    font-weight: 600;
    color: #2563eb;
    text-decoration: none;
    }

    /* responsive */
    @media (max-width: 900px) {
    .editorial-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    }
    @media (max-width: 600px) {
    .editorial-grid {
        grid-template-columns: 1fr;
    }
    }

    /* ==========================
   BOT√ìN FLOTANTE ALGORITMO
   ========================== */
    .fab-algoritmo {
    position: fixed;
    right: 24px;
    bottom: 24px;
    z-index: 999;
    border: none;
    border-radius: 999px;
    padding: 10px 18px;
    background: linear-gradient(135deg, #22c55e, #16a34a);
    color: #f9fafb;
    font-weight: 600;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    font-size: 12px;
    cursor: pointer;
    box-shadow: 0 14px 35px rgba(0, 0, 0, 0.65);
    }

    .fab-algoritmo:hover {
    transform: translateY(-1px);
    box-shadow: 0 18px 40px rgba(0, 0, 0, 0.75);
    }

    .fab-algoritmo:active {
    transform: translateY(0);
    box-shadow: none;
    }

    /* ==========================
    MODAL DE ALGORITMOS
    ========================== */
    .alg-modal-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(3, 7, 18, 0.85);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 998;
    }

    .alg-modal-backdrop.show {
    display: flex;
    }

    .alg-modal {
    width: min(960px, 95vw);
    max-height: 90vh;
    background: radial-gradient(circle at top left, rgba(59, 130, 246, 0.4), transparent),
                radial-gradient(circle at bottom right, rgba(45, 212, 191, 0.3), transparent),
                #020617;
    border-radius: 18px;
    padding: 18px 18px 16px;
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: 14px;
    color: #e5e7eb;
    box-shadow: 0 24px 70px rgba(0, 0, 0, 0.8);
    }

    @media (max-width: 800px) {
    .alg-modal {
        grid-template-columns: 1fr;
        max-height: 95vh;
    }
    }

    .alg-modal-left h3 {
    font-size: 16px;
    font-weight: 700;
    margin-bottom: 4px;
    }

    .alg-modal-left p {
    font-size: 13px;
    color: #cbd5f5;
    margin-bottom: 8px;
    }

    .alg-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 6px;
    max-height: 60vh;
    overflow-y: auto;
    }

    .alg-list-item {
    border-radius: 10px;
    border: 1px solid rgba(148, 163, 184, 0.4);
    background: rgba(15, 23, 42, 0.8);
    padding: 8px 10px;
    font-size: 13px;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    gap: 2px;
    transition: background 0.15s ease, border-color 0.15s ease, transform 0.1s ease;
    }

    .alg-list-item span.alg-cat {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: #93c5fd;
    }

    .alg-list-item span.alg-title {
    font-weight: 600;
    }

    .alg-list-item.active {
    background: rgba(37, 99, 235, 0.95);
    border-color: rgba(191, 219, 254, 0.9);
    transform: translateY(-1px);
    }

    .alg-list-item:hover:not(.active) {
    background: rgba(15, 23, 42, 0.95);
    }

    /* DERECHA */
    .alg-modal-right {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 8px;
    }

    .alg-modal-close {
    position: absolute;
    right: 4px;
    top: 4px;
    width: 28px;
    height: 28px;
    border-radius: 999px;
    border: none;
    background: rgba(15, 23, 42, 0.9);
    color: #e5e7eb;
    font-size: 18px;
    cursor: pointer;
    }

    .alg-preview-wrapper {
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid rgba(148, 163, 184, 0.6);
    background: #020617;
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    }

    .alg-preview-wrapper img {
    max-width: 100%;
    max-height: 70vh;
    display: block;
    }

    .alg-caption {
    font-size: 13px;
    color: #cbd5f5;
    }

    .alg-open-full {
    font-size: 12px;
    text-decoration: none;
    color: #93c5fd;
    font-weight: 600;
    }

    
    /* ==========================
    OSLER: BANNER + SPOTIFY
    ========================== */
    .osler-hero {
    position: relative;
    border-radius: 18px;
    overflow: hidden;
    margin-bottom: 18px;
    background: radial-gradient(circle at top left, rgba(37, 99, 235, 0.65), transparent),
                radial-gradient(circle at bottom right, rgba(56, 189, 248, 0.45), transparent),
                #0f172a;
    color: #e5e7eb;
    min-height: 220px;
    display: grid;
    grid-template-columns: minmax(0, 2fr) minmax(0, 1.3fr);
    }

    @media (max-width: 900px) {
    .osler-hero {
        grid-template-columns: 1fr;
    }
    }

    .osler-hero-left {
    padding: 24px 24px 22px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 10px;
    }

    .osler-hero-kicker {
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.16em;
    font-weight: 600;
    color: #bfdbfe;
    }

    .osler-hero-title {
    font-size: 24px;
    line-height: 1.15;
    font-weight: 800;
    }

    .osler-hero-title span {
    color: #38bdf8;
    }

    .osler-hero-text {
    font-size: 14px;
    max-width: 34rem;
    opacity: 0.9;
    }

    .osler-hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 6px 10px;
    border-radius: 999px;
    background: rgba(15, 23, 42, 0.85);
    font-size: 11px;
    margin-top: 4px;
    }

    .osler-hero-badge-dot {
    width: 8px;
    height: 8px;
    border-radius: 999px;
    background: #22c55e;
    }

    .osler-hero-right {
    position: relative;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    padding: 18px;
    }

    .osler-hero-graphic {
    width: 100%;
    max-width: 330px;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 20px 45px rgba(0,0,0,0.65);
    }

    /* Player Spotify responsivo */
    .osler-player-wrapper {
    border-radius: 18px;
    overflow: hidden;
    border: 1px solid rgba(148, 163, 184, 0.4);
    box-shadow: 0 16px 40px rgba(15, 23, 42, 0.7);
    }

    .osler-player-wrapper iframe {
    border: 0;
    width: 100%;
    min-height: 360px;
    }

    @media (max-width: 600px) {
    .osler-player-wrapper iframe {
        min-height: 320px;
    }
    }

    /* ==========================
   AJUSTES DE TAMA√ëO OSLER
   (compacto dentro del dashboard)
   ========================== */

    /* Banner m√°s bajito, menos padding */
    .osler-hero {
    min-height: 170px;
    grid-template-columns: minmax(0, 1.9fr) minmax(0, 1.1fr);
    border-radius: 14px;
    }

    /* Texto un poco m√°s peque√±o */
    .osler-hero-left {
    padding: 18px 18px 16px;
    }

    .osler-hero-title {
    font-size: 20px;
    }

    .osler-hero-text {
    font-size: 13px;
    }

    /* Badge m√°s discreto */
    .osler-hero-badge {
    padding: 5px 8px;
    font-size: 10px;
    }

    /* Imagen m√°s peque√±a y sin sombra tan pesada */
    .osler-hero-right {
    padding: 12px;
    }

    .osler-hero-graphic {
    max-width: 250px;
    border-radius: 12px;
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.45);
    }

    .osler-hero-graphic img {
    display: block;
    width: 100%;
    height: 160px;
    object-fit: cover;
    }

    /* Player menos alto y con menos drama */
    .osler-player-wrapper {
    border-radius: 14px;
    box-shadow: 0 8px 24px rgba(15, 23, 42, 0.55);
    margin-top: 14px;
    }

    .osler-player-wrapper iframe {
    min-height: 260px;
    }

    /* En m√≥vil, a√∫n m√°s compacto */
    @media (max-width: 900px) {
    .osler-hero {
        grid-template-columns: 1fr;
    }

    .osler-hero-graphic {
        max-width: 220px;
        margin-top: 8px;
    }

    .osler-player-wrapper iframe {
        min-height: 230px;
    }
    }

    /* ==========================
   NAV US / USER DROPDOWN
   ========================== */

    .nav-user-wrapper {
    position: relative;
    }

    .nav-user-button {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 10px;
    border-radius: 999px;
    border: none;
    background: rgba(15, 23, 42, 0.85);
    color: #e5e7eb;
    cursor: pointer;
    font-size: 12px;
    font-weight: 600;
    }

    .nav-user-initials {
    width: 20px;
    height: 20px;
    border-radius: 999px;
    background: linear-gradient(135deg, #38bdf8, #6366f1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    }

    .nav-user-caret {
    font-size: 9px;
    opacity: 0.9;
    }

    /* Dropdown */

    .user-dropdown {
    position: absolute;
    right: 0;
    top: calc(100% + 8px);
    width: 220px;
    background: rgba(15, 23, 42, 0.98);
    border-radius: 14px;
    box-shadow: 0 18px 45px rgba(0,0,0,0.8);
    padding: 10px;
    border: 1px solid rgba(148, 163, 184, 0.5);
    display: none;
    z-index: 900;
    }

    .user-dropdown.show {
    display: block;
    }

    .user-dropdown-header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 4px 4px 8px;
    border-bottom: 1px solid rgba(51, 65, 85, 0.8);
    margin-bottom: 6px;
    }

    .user-avatar {
    width: 32px;
    height: 32px;
    border-radius: 999px;
    background: linear-gradient(135deg, #38bdf8, #0ea5e9);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 13px;
    color: #0f172a;
    }

    .user-name {
    font-size: 13px;
    font-weight: 600;
    }

    .user-email {
    font-size: 11px;
    color: #94a3b8;
    }

    .user-dropdown-item {
    width: 100%;
    text-align: left;
    padding: 7px 8px;
    border-radius: 8px;
    border: none;
    background: transparent;
    color: #e5e7eb;
    font-size: 12px;
    cursor: pointer;
    display: block;
    }

    .user-dropdown-item:hover {
    background: rgba(30, 64, 175, 0.95);
    }

    .user-dropdown-item.logout {
    color: #f97373;
    }

    /* ==========================
    MODALES PERFIL / CALIFICACIONES
    ========================== */

    .panel-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(15, 23, 42, 0.78);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    }

    .panel-backdrop.show {
    display: flex;
    }

    .panel-card {
    width: min(440px, 94vw);
    max-height: 85vh;
    background: #020617;
    border-radius: 18px;
    box-shadow: 0 24px 80px rgba(0, 0, 0, 0.85);
    padding: 16px 18px 18px;
    color: #e5e7eb;
    display: flex;
    flex-direction: column;
    }

    .panel-card-wide {
    width: min(720px, 96vw);
    }

    .panel-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 10px;
    }

    .panel-header h3 {
    font-size: 18px;
    font-weight: 700;
    }

    .panel-close {
    border: none;
    background: rgba(15, 23, 42, 0.9);
    width: 28px;
    height: 28px;
    border-radius: 999px;
    color: #e5e7eb;
    cursor: pointer;
    font-size: 16px;
    }

    .panel-body {
    overflow-y: auto;
    padding-top: 4px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    }

    #profileForm label {
    display: flex;
    flex-direction: column;
    gap: 4px;
    font-size: 12px;
    }

    #profileForm input {
    border-radius: 8px;
    border: 1px solid #1e293b;
    background: #020617;
    padding: 6px 8px;
    color: #e5e7eb;
    font-size: 13px;
    }

    .panel-primary-btn {
    margin-top: 8px;
    padding: 7px 10px;
    border-radius: 999px;
    border: none;
    background: linear-gradient(135deg, #22c55e, #16a34a);
    color: #f9fafb;
    font-weight: 600;
    cursor: pointer;
    font-size: 13px;
    }

    .panel-hint {
    font-size: 11px;
    color: #9ca3af;
    margin-top: 4px;
    }

    /* Lista de calificaciones / progreso */
    .grades-course {
    padding: 8px 10px;
    border-radius: 10px;
    background: #020617;
    border: 1px solid rgba(31, 41, 55, 0.9);
    display: flex;
    flex-direction: column;
    gap: 2px;
    font-size: 13px;
    }

    .grades-course-title {
    font-weight: 600;
    }

    .grades-course-meta {
    font-size: 11px;
    color: #9ca3af;
    }

    .grades-course-status {
    font-size: 12px;
    }

    .grades-course-status.en-curso {
    color: #22c55e;
    }

    .grades-course-status.terminado {
    color: #38bdf8;
    }

    .grades-course-status.disponible {
    color: #eab308;
    }

    /* ==========================
    VADEM√âCUM SPOTLIGHT
    ========================== */

    .vademecum-wrapper {
    position: relative;
    }

    .vademecum-trigger {
    border: none;
    background: transparent;
    color: #e5e7eb;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    padding: 6px 10px;
    border-radius: 999px;
    }

    .vademecum-trigger:hover {
    background: rgba(148, 163, 184, 0.18);
    }

    /* Panel emergente */

    .vademecum-panel {
    position: absolute;
    left: 0;
    top: calc(100% + 8px);
    width: 320px;
    background: #020617;
    border-radius: 14px;
    box-shadow: 0 18px 45px rgba(0, 0, 0, 0.85);
    border: 1px solid rgba(51, 65, 85, 0.9);
    padding: 10px 10px 8px;
    opacity: 0;
    pointer-events: none;
    transform: translateY(4px);
    transition: opacity 0.15s ease, transform 0.15s ease;
    z-index: 910;
    }

    /* Mostrar panel cuando el wrapper est√° "abierto" */
    .vademecum-wrapper.open .vademecum-panel {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
    }

    .vademecum-search-header {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    margin-bottom: 6px;
    }

    .vademecum-label {
    font-size: 13px;
    font-weight: 600;
    color: #e5e7eb;
    }

    .vademecum-hint {
    font-size: 11px;
    color: #9ca3af;
    }

    .vademecum-search-box input {
    width: 100%;
    border-radius: 999px;
    border: 1px solid #1e293b;
    background: #020617;
    padding: 6px 10px;
    font-size: 13px;
    color: #e5e7eb;
    outline: none;
    margin-bottom: 8px;
    }

    .vademecum-search-box input::placeholder {
    color: #6b7280;
    }

    .vademecum-results {
    display: flex;
    flex-direction: column;
    gap: 4px;
    }

    .vademecum-result-item {
    width: 100%;
    text-align: left;
    padding: 7px 8px;
    border-radius: 10px;
    border: none;
    background: #020617;
    color: #e5e7eb;
    cursor: pointer;
    }

    .vademecum-result-item .title {
    font-size: 13px;
    font-weight: 600;
    }

    .vademecum-result-item .subtitle {
    font-size: 11px;
    color: #9ca3af;
    }

    .vademecum-result-item:hover {
    background: rgba(30, 64, 175, 0.95);
    }

    .vademecum-result-item.vademecum-main {
    border: 1px solid rgba(59, 130, 246, 0.7);
    }


  </style>
</head>
<body>
  <div class="dashboard">
    <!-- NAV SUPERIOR -->
    <header class="top-nav">
      <div class="brand">Campus+M√©dico</div>
      <nav class="nav-links">
        <div class="top-nav-item vademecum-wrapper">
            <button class="vademecum-trigger" id="vademecumTrigger">
              Vadem√©cum
            </button>
          
            <div class="vademecum-panel" id="vademecumPanel">
              <div class="vademecum-search-header">
                <span class="vademecum-label">Vadem√©cum</span>
                <span class="vademecum-hint">Buscar (pr√≥ximamente)</span>
              </div>
              <div class="vademecum-search-box">
                <input
                  type="text"
                  id="vademecumSearch"
                  placeholder="Busca por s√≠ntoma, marca o principio activo‚Ä¶"
                />
              </div>
          
              <div class="vademecum-results">
                <!-- Resultado fijo principal -->
                <button
                  class="vademecum-result-item vademecum-main"
                  data-url="https://www.campus-medicofa.com/revistawebmovil/Vademecum.aspx"
                >
                  <div class="title">Vadem√©cum Campus M√©dico</div>
                  <div class="subtitle">Consulta completa de productos y fichas t√©cnicas.</div>
                </button>
          
                <!-- En el futuro aqu√≠ ir√°n m√°s resultados de b√∫squeda -->
              </div>
            </div>
          </div>
        <span>Aprendizaje</span>
        <span id="navTools" class="top-nav-item">Herramientas</span>
      </nav>
      <div class="nav-user-wrapper">
        <button class="nav-user-button" id="navUserButton">
          <span class="nav-user-initials" id="navUserInitials">US</span>
          <span class="nav-user-caret">‚ñæ</span>
        </button>
      
        <div class="user-dropdown" id="userDropdown">
          <div class="user-dropdown-header">
            <div class="user-avatar" id="userAvatarInitials">US</div>
            <div>
              <div class="user-name" id="userDropdownName">Nombre del usuario</div>
              <div class="user-email" id="userDropdownEmail">usuario@correo.com</div>
            </div>
          </div>
          <button class="user-dropdown-item" data-action="profile">Perfil</button>
          <button class="user-dropdown-item" data-action="grades">Calificaciones</button>
          <button class="user-dropdown-item logout" data-action="logout">Logout</button>
        </div>
        
      </div>
    </header>

    <!-- CURSO ACTUAL -->
    <section class="current-course">
      <div class="current-course-main">
        <h2>Curso Actual</h2>
        <div class="category">Actualizaci√≥n m√©dica ¬∑ Cardiolog√≠a</div>
        <p>
          Manejo integral del paciente con hipertensi√≥n arterial. Revisi√≥n de gu√≠as
          vigentes, algoritmos terap√©uticos y casos cl√≠nicos interactivos.
        </p>
      </div>
      <div class="current-course-actions">
        <div>
          <div class="progress-text">Progreso: 45% ¬∑ 3 de 7 m√≥dulos</div>
          <div class="progress-bar">
            <div class="progress-bar-fill"></div>
          </div>
        </div>
        <div class="btn-row">
          <button class="btn-primary" id="btnContinuarActual">Continuar</button>
          <button class="btn-secondary">Algoritmo</button>
        </div>
      </div>
    </section>

    <!-- SECCIONES DE CURSOS -->
    <main class="sections" id="sectionsContainer">
      <!-- se inyecta v√≠a JS -->
    </main>
  </div>

  <!-- Bot√≥n flotante Algoritmo (no lo pongas en la p√°gina de login) -->
    <button class="fab-algoritmo" id="fabAlgoritmo">Algoritmos</button>

        <!-- Modal de selecci√≥n y previsualizaci√≥n de algoritmos -->
        <div class="alg-modal-backdrop" id="algModalBackdrop">
        <div class="alg-modal">
            <div class="alg-modal-left">
            <h3>Algoritmos cl√≠nicos</h3>
            <p>Selecciona un algoritmo para verlo en grande.</p>
            <ul class="alg-list" id="algList">
                <!-- Se llena por JS -->
            </ul>
            </div>
            <div class="alg-modal-right">
            <button class="alg-modal-close" id="algCloseBtn">&times;</button>
            <div class="alg-preview-wrapper">
                <img id="algImage" src="" alt="Algoritmo cl√≠nico" />
            </div>
            <div class="alg-caption" id="algCaption"></div>
            <a class="alg-open-full" id="algOpenFull" href="#" target="_blank" rel="noopener noreferrer">
                Abrir imagen en una pesta√±a nueva
            </a>
            </div>
        </div>

        <!-- Modal PERFIL -->
        <div class="panel-backdrop" id="profileModal">
            <div class="panel-card">
            <div class="panel-header">
                <h3>Perfil</h3>
                <button class="panel-close" data-close-profile>&times;</button>
            </div>
            <form id="profileForm" class="panel-body">
                <label>
                Nombre
                <input type="text" id="profileName" />
                </label>
                <label>
                Email
                <input type="email" id="profileEmail" />
                </label>
                <label>
                Tel√©fono
                <input type="text" id="profilePhone" />
                </label>
                <label>
                Especialidad / Tipo
                <input type="text" id="profileType" />
                </label>
                <button type="submit" class="panel-primary-btn">Guardar cambios</button>
                <p class="panel-hint">
                (Por ahora solo se guardan en esta computadora usando <code>localStorage</code>).
                </p>
            </form>
            </div>
        </div>
        
        <!-- Modal CALIFICACIONES / PROGRESO -->
        <div class="panel-backdrop" id="gradesModal">
            <div class="panel-card panel-card-wide">
            <div class="panel-header">
                <h3>Progreso de tus cursos</h3>
                <button class="panel-close" data-close-grades>&times;</button>
            </div>
            <div class="panel-body" id="gradesList">
                <!-- Se llena desde JS -->
            </div>
            </div>
        </div>
    </div>

  <script>
    // =====================================================
    //  Datos de ejemplo (puedes sustituir nombres / im√°genes)
    // =====================================================
    const courseSections = [
      {
        title: "Cursos de Actualizaci√≥n M√©dica",
        type: "slider",       // esta secci√≥n tiene carrusel
        step: 2,              // se mueven 2 cursos por flecha
        courses: [
          {
            name: "Influenza estacional",
            meta: "Infectolog√≠a ¬∑ 4 m√≥dulos",
            image: "https://images.pexels.com/photos/3786157/pexels-photo-3786157.jpeg?auto=compress&cs=tinysrgb&w=1200",
            statusType: "en-curso",      // en-curso | terminado | disponible
            statusText: "En curso ¬∑ 40%",
            cta: "Continuar"
          },
          {
            name: "Vacunas contra COVID",
            meta: "Inmunolog√≠a ¬∑ 3 m√≥dulos",
            image: "https://images.pexels.com/photos/8413270/pexels-photo-8413270.jpeg?auto=compress&cs=tinysrgb&w=1200",
            statusType: "terminado",
            statusText: "Terminado",
            cta: "Revisar"
          },
          {
            name: "Salud mental",
            meta: "Psiquiatr√≠a ¬∑ 3 m√≥dulos",
            image: "https://images.pexels.com/photos/4101143/pexels-photo-4101143.jpeg?auto=compress&cs=tinysrgb&w=1200",
            statusType: "terminado",
            statusText: "Terminado",
            cta: "Revisar"
          },
          {
            name: "Obesidad",
            meta: "Endocrinolog√≠a ¬∑ 2 m√≥dulos",
            image: "https://images.pexels.com/photos/6941891/pexels-photo-6941891.jpeg?auto=compress&cs=tinysrgb&w=1200",
            statusType: "terminado",
            statusText: "Terminado",
            cta: "Revisar"
          },
          {
            name: "Manejo integral del dolor",
            meta: "Dolor cr√≥nico ¬∑ 4 m√≥dulos",
            image: "https://images.pexels.com/photos/4506109/pexels-photo-4506109.jpeg?auto=compress&cs=tinysrgb&w=1200",
            statusType: "terminado",
            statusText: "Terminado",
            cta: "Revisar"
          },
          {
            name: "Suplementos alimenticios",
            meta: "Nutriolog√≠a ¬∑ 2 m√≥dulos",
            image: "https://images.pexels.com/photos/3872737/pexels-photo-3872737.jpeg?auto=compress&cs=tinysrgb&w=1200",
            statusType: "terminado",
            statusText: "Terminado",
            cta: "Revisar"
          },
          {
            name: "Viruela s√≠mica",
            meta: "Infectolog√≠a ¬∑ Caso cl√≠nico",
            image: "https://images.pexels.com/photos/59999/hands-child-old-old-age-people-59999.jpeg?auto=compress&cs=tinysrgb&w=1200",
            statusType: "terminado",
            statusText: "Terminado",
            cta: "Revisar"
          },
          {
            name: "Vacuna Herpes Zoster",
            meta: "Inmunolog√≠a ¬∑ 1 m√≥dulo",
            image: "https://images.pexels.com/photos/6234613/pexels-photo-6234613.jpeg?auto=compress&cs=tinysrgb&w=1200",
            statusType: "terminado",
            statusText: "Terminado",
            cta: "Revisar"
          }
        ]
      },
      {
        title: "Procedimientos Normalizados de Operaci√≥n",
        courses: [
            {
                name: "Vacuna Antiinfluenza",
                meta: "PNO ¬∑ Vacunaci√≥n",
                image: "https://images.pexels.com/photos/5863393/pexels-photo-5863393.jpeg?auto=compress&cs=tinysrgb&w=1200",
                statusType: "disponible",
                statusText: "Disponible",
                cta: "Inscribir"
            },
            {
                name: "Acoso Sexual",
                meta: "PNO ¬∑ Conducta profesional",
                image: "https://images.pexels.com/photos/3958397/pexels-photo-3958397.jpeg?auto=compress&cs=tinysrgb&w=1200",
                statusType: "disponible",
                statusText: "Disponible",
                cta: "Inscribir"
            },
            {
                name: "Vacuna VPH",
                meta: "PNO ¬∑ Vacunaci√≥n",
                image: "https://images.pexels.com/photos/6234609/pexels-photo-6234609.jpeg?auto=compress&cs=tinysrgb&w=1200",
                statusType: "disponible",
                statusText: "Disponible",
                cta: "Inscribir"
            }
            ]
        },
        // üß† CURSOS SALUD MENTAL
        {
        title: "Cursos de Salud Mental",
        courses: [
            {
            name: "El ABC de la Ansiedad",
            meta: "Psicolog√≠a cl√≠nica ¬∑ 3 m√≥dulos",
            image: "https://images.pexels.com/photos/6173690/pexels-photo-6173690.jpeg?auto=compress&cs=tinysrgb&w=1200",
            statusType: "disponible",
            statusText: "Disponible",
            cta: "Inscribir"
            },
            {
            name: "El ABC del Estr√©s",
            meta: "Psiquiatr√≠a ¬∑ 3 m√≥dulos",
            image: "https://images.pexels.com/photos/5711056/pexels-photo-5711056.jpeg?auto=compress&cs=tinysrgb&w=1200",
            statusType: "disponible",
            statusText: "Disponible",
            cta: "Inscribir"
            },
            {
            name: "El ABC de la Depresi√≥n",
            meta: "Salud mental ¬∑ 3 m√≥dulos",
            image: "https://images.pexels.com/photos/4561175/pexels-photo-4561175.jpeg?auto=compress&cs=tinysrgb&w=1200",
            statusType: "disponible",
            statusText: "Disponible",
            cta: "Inscribir"
            }
        ]
        },
      {
        title: "Cursos por temporada",
        courses: [
        {
            name: "Campa√±a de vacunaci√≥n",
            meta: "Temporada ¬∑ Actualizaci√≥n 2024",
            image: "https://images.pexels.com/photos/5863403/pexels-photo-5863403.jpeg?auto=compress&cs=tinysrgb&w=1200",
            statusType: "disponible",
            statusText: "Disponible",
            cta: "Inscribir"
        },
        {
            name: "Enfermedades respiratorias agudas",
            meta: "Temporada ¬∑ 3 m√≥dulos",
            image: "https://images.pexels.com/photos/935950/pexels-photo-935950.jpeg?auto=compress&cs=tinysrgb&w=1200",
            statusType: "disponible",
            statusText: "Disponible",
            cta: "Inscribir"
        }
        ]
    },
    {
        title: "Innovaci√≥n",
        type: "editorial",
        articles: [
            {
            name: "Eliquis",
            date: "14 March, 2025",
            excerpt: "Nuevas consideraciones cl√≠nicas sobre el uso de anticoagulantes orales.",
            image: "https://images.pexels.com/photos/3683088/pexels-photo-3683088.jpeg?auto=compress&cs=tinysrgb&w=1200"
            },
            {
            name: "Herpes Z√≥ster",
            date: "27 May, 2025",
            excerpt: "Actualizaci√≥n en diagn√≥stico temprano y opciones terap√©uticas.",
            image: "https://images.pexels.com/photos/6074918/pexels-photo-6074918.jpeg?auto=compress&cs=tinysrgb&w=1200"
            },
            {
            name: "ERGE",
            date: "27 May, 2025",
            excerpt: "Nuevos lineamientos para manejo integral del reflujo gastroesof√°gico.",
            image: "https://images.pexels.com/photos/5904933/pexels-photo-5904933.jpeg?auto=compress&cs=tinysrgb&w=1200"
            },
            {
            name: "S√≠ndrome de Intestino Irritable",
            date: "27 May, 2025",
            excerpt: "Enfoques modernos para diagn√≥stico y manejo del SII.",
            image: "https://images.pexels.com/photos/6629862/pexels-photo-6629862.jpeg?auto=compress&cs=tinysrgb&w=1200"
            },
            {
            name: "Insomnio",
            date: "02 September, 2025",
            excerpt: "Revisi√≥n de factores asociados y terapias no farmacol√≥gicas.",
            image: "https://images.pexels.com/photos/6238031/pexels-photo-6238031.jpeg?auto=compress&cs=tinysrgb&w=1200"
            },
            {
            name: "Defensa solar para piel mixta a grasa",
            date: "10 September, 2025",
            excerpt: "Nuevos ingredientes fotoprotectores para diferentes tipos de piel.",
            image: "https://images.pexels.com/photos/7018166/pexels-photo-7018166.jpeg?auto=compress&cs=tinysrgb&w=1200"
            },
            {
            name: "Ojo Seco",
            date: "10 October, 2025",
            excerpt: "Causas frecuentes y l√≠neas cl√≠nicas para un mejor abordaje.",
            image: "https://images.pexels.com/photos/8657295/pexels-photo-8657295.jpeg?auto=compress&cs=tinysrgb&w=1200"
            }
        ]
        },

        {
    
        title: "Reporte Osler",
        type: "osler"
        }
    ];

    const sectionsContainer = document.getElementById("sectionsContainer");

    // --------- Componentes ---------
    function createCourseCard(course) {
      const card = document.createElement("div");
      card.className = "course-card";

      const imgWrapper = document.createElement("div");
      imgWrapper.className = "course-image-wrapper";

      const img = document.createElement("img");
      img.src =
        course.image ||
        "https://images.pexels.com/photos/4225880/pexels-photo-4225880.jpeg?auto=compress&cs=tinysrgb&w=1200";
      img.alt = course.name || "Curso m√©dico";

      const ribbon = document.createElement("div");
      ribbon.className = "course-ribbon";

      const statusType = course.statusType || "disponible";
      if (statusType === "terminado") ribbon.classList.add("terminado");
      if (statusType === "disponible") ribbon.classList.add("disponible");

      let ribbonText = "DISPONIBLE";
      if (statusType === "en-curso") ribbonText = "EN CURSO";
      if (statusType === "terminado") ribbonText = "TERMINADO";
      ribbon.textContent = ribbonText;

      imgWrapper.appendChild(img);
      imgWrapper.appendChild(ribbon);

      const info = document.createElement("div");
      info.className = "course-info";

      const title = document.createElement("div");
      title.className = "course-title";
      title.textContent = course.name;

      const meta = document.createElement("div");
      meta.className = "course-meta";
      meta.textContent = course.meta || "";

      const footer = document.createElement("div");
      footer.className = "course-footer";

      const statusText = document.createElement("div");
      statusText.className = "course-status-text";
      statusText.textContent =
        course.statusText ||
        (statusType === "en-curso"
          ? "En curso"
          : statusType === "terminado"
          ? "Terminado"
          : "Disponible");

      const ctaBtn = document.createElement("button");
      const cta = (course.cta || "Continuar").toLowerCase();
      ctaBtn.className = "course-cta " + (cta === "inscribir"
        ? "inscribir"
        : cta === "revisar"
        ? "revisar"
        : "continuar");
      ctaBtn.textContent = course.cta || "Continuar";

      ctaBtn.addEventListener("click", () => {
        if (cta === "inscribir") {
          alert("Inscribiendo al curso: " + course.name);
        } else if (cta === "revisar") {
          alert("Revisar contenido del curso: " + course.name);
        } else {
          alert("Continuar curso: " + course.name);
        }
      });

      footer.appendChild(statusText);
      footer.appendChild(ctaBtn);

      info.appendChild(title);
      info.appendChild(meta);
      info.appendChild(footer);

      card.appendChild(imgWrapper);
      card.appendChild(info);

      return card;
    }

    

    function renderSections() {
        sectionsContainer.innerHTML = "";

        courseSections.forEach((section) => {
            const sec = document.createElement("section");
            sec.className = "section";

            const header = document.createElement("div");
            header.className = "section-header";

            const title = document.createElement("div");
            title.className = "section-title";
            title.textContent = section.title;

            const verTodos = document.createElement("a");
            verTodos.href = "#";
            verTodos.innerHTML = 'Ver todos <span>‚Ä∫</span>';

            header.appendChild(title);
            header.appendChild(verTodos);
            sec.appendChild(header);

            const contentContainer = document.createElement("div");
            sec.appendChild(contentContainer);

            // ---------- OSLER (lista simple) ----------
            // ---------- OSLER (banner + playlist Spotify) ----------
            if (section.type === "osler") {
            // limpiamos cualquier cosa previa en contentContainer
            contentContainer.innerHTML = "";

            // HERO
            const hero = document.createElement("div");
            hero.className = "osler-hero";

            const left = document.createElement("div");
            left.className = "osler-hero-left";

            const kicker = document.createElement("div");
            kicker.className = "osler-hero-kicker";
            kicker.textContent = "Reporte Osler en formato de audio";

            const hTitle = document.createElement("div");
            hTitle.className = "osler-hero-title";
            hTitle.innerHTML = `Afina tu diagn√≥stico con <span>inteligencia artificial</span>`;

            const text = document.createElement("div");
            text.className = "osler-hero-text";
            text.textContent =
                "Episodios cortos donde exploramos c√≥mo la IA y la medicina basada en datos est√°n transformando la pr√°ctica cl√≠nica diaria.";

            const badge = document.createElement("div");
            badge.className = "osler-hero-badge";
            const badgeDot = document.createElement("div");
            badgeDot.className = "osler-hero-badge-dot";
            const badgeText = document.createElement("span");
            badgeText.textContent = "Nuevo episodio cada temporada";
            badge.appendChild(badgeDot);
            badge.appendChild(badgeText);

            left.appendChild(kicker);
            left.appendChild(hTitle);
            left.appendChild(text);
            left.appendChild(badge);

            const right = document.createElement("div");
            right.className = "osler-hero-right";

            const graphic = document.createElement("div");
            graphic.className = "osler-hero-graphic";

            // aqu√≠ puedes usar una imagen propia o de tu servidor
            const gImg = document.createElement("img");
            gImg.src =
                "https://images.pexels.com/photos/6129241/pexels-photo-6129241.jpeg?auto=compress&cs=tinysrgb&w=1200";
            gImg.alt = "Visualizaci√≥n cardiol√≥gica digital";

            graphic.appendChild(gImg);
            right.appendChild(graphic);

            hero.appendChild(left);
            hero.appendChild(right);

            // PLAYER SPOTIFY
            const playerWrapper = document.createElement("div");
            playerWrapper.className = "osler-player-wrapper";

            // üëá Sustituye el src por el embed real de tu playlist/episodio
            const iframe = document.createElement("iframe");
            iframe.src =
                "https://open.spotify.com/embed/show/0XXXXXXXXXXXXXXX?utm_source=generator&theme=0";
            iframe.allow =
                "autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture";
            iframe.loading = "lazy";

            playerWrapper.appendChild(iframe);

            // a√±adir al contenedor
            contentContainer.appendChild(hero);
            contentContainer.appendChild(playerWrapper);

            // el ‚ÄúVer todos‚Äù aqu√≠ solo detiene navegaci√≥n
            verTodos.textContent = "Ver todos";
            verTodos.addEventListener("click", (e) => e.preventDefault());
            }
            
            // ---------- EDITORIAL / INNOVACI√ìN ----------
            else if (section.type === "editorial") {
            // le a√±adimos una clase extra a la secci√≥n
            sec.classList.add("editorial-section");
            verTodos.innerHTML = "Ver todas las notas";
            verTodos.addEventListener("click", (e) => e.preventDefault());

            const grid = document.createElement("div");
            grid.className = "editorial-grid";

            section.articles.forEach((a) => {
                const card = document.createElement("div");
                card.className = "editorial-card";

                const img = document.createElement("img");
                img.src = a.image;
                img.alt = a.name;

                const content = document.createElement("div");
                content.className = "content";

                const h3 = document.createElement("h3");
                h3.textContent = a.name;

                const date = document.createElement("div");
                date.className = "date";
                date.textContent = a.date;

                const excerpt = document.createElement("div");
                excerpt.className = "excerpt";
                excerpt.textContent = a.excerpt || "";

                const link = document.createElement("a");
                link.href = "#";
                link.textContent = "Leer art√≠culo ‚Üí";
                link.addEventListener("click", (e) => {
                e.preventDefault();
                alert("Abrir art√≠culo: " + a.name);
                });

                content.appendChild(h3);
                content.appendChild(date);
                content.appendChild(excerpt);
                content.appendChild(link);

                card.appendChild(img);
                card.appendChild(content);
                grid.appendChild(card);
            });

            contentContainer.appendChild(grid);
            }
            // ---------- SLIDER (Actualizaci√≥n M√©dica) ----------
            else if (section.type === "slider") {
            let mode = "slider"; // slider | all
            let currentIndex = 0;

            function getVisibleCount() {
                if (window.innerWidth < 600) return 1;
                if (window.innerWidth < 900) return 2;
                return 4; // desktop
            }

            function renderContent() {
                contentContainer.innerHTML = "";

                if (mode === "all") {
                const row = document.createElement("div");
                row.className = "courses-row";

                section.courses.forEach((course) => {
                    const card = createCourseCard(course);
                    row.appendChild(card);
                });

                contentContainer.appendChild(row);
                verTodos.innerHTML = "Ver menos";
                return;
                }

                const maxForSlider = Math.min(section.courses.length, 6);
                const visibleCount = getVisibleCount();
                const step = section.step || 2;

                if (currentIndex > maxForSlider - visibleCount) {
                currentIndex = Math.max(0, maxForSlider - visibleCount);
                }

                const wrapper = document.createElement("div");
                wrapper.className = "slider-wrapper";

                const btnPrev = document.createElement("button");
                btnPrev.className = "slider-arrow";
                btnPrev.innerHTML = "<span>‚Äπ</span>";

                const btnNext = document.createElement("button");
                btnNext.className = "slider-arrow";
                btnNext.innerHTML = "<span>‚Ä∫</span>";

                const windowEl = document.createElement("div");
                windowEl.className = "slider-window";

                const row = document.createElement("div");
                row.className = "slider-inner-row";

                const endIndex = Math.min(currentIndex + visibleCount, maxForSlider);
                const slice = section.courses.slice(currentIndex, endIndex);

                slice.forEach((course) => {
                const card = createCourseCard(course);
                row.appendChild(card);
                });

                windowEl.appendChild(row);
                wrapper.appendChild(btnPrev);
                wrapper.appendChild(windowEl);
                wrapper.appendChild(btnNext);

                if (currentIndex <= 0) btnPrev.classList.add("disabled");
                if (currentIndex + visibleCount >= maxForSlider)
                btnNext.classList.add("disabled");

                btnPrev.addEventListener("click", () => {
                if (btnPrev.classList.contains("disabled")) return;
                currentIndex = Math.max(0, currentIndex - step);
                renderContent();
                });

                btnNext.addEventListener("click", () => {
                if (btnNext.classList.contains("disabled")) return;
                currentIndex = Math.min(
                    maxForSlider - visibleCount,
                    currentIndex + step
                );
                renderContent();
                });

                contentContainer.appendChild(wrapper);
                verTodos.innerHTML = 'Ver todos <span>‚Ä∫</span>';
            }

            renderContent();
            window.addEventListener("resize", renderContent);

            verTodos.addEventListener("click", (e) => {
                e.preventDefault();
                mode = mode === "slider" ? "all" : "slider";
                renderContent();
            });
            }
            // ---------- Secciones normales ----------
            else {
            const row = document.createElement("div");
            row.className = "courses-row";

            section.courses.forEach((course) => {
                const card = createCourseCard(course);
                row.appendChild(card);
            });

            contentContainer.appendChild(row);

            verTodos.addEventListener("click", (e) => e.preventDefault());
            }

            sectionsContainer.appendChild(sec);
        });
        }
    
    renderSections();

    document
      .getElementById("btnContinuarActual")
      .addEventListener("click", () => {
        alert("Ir al m√≥dulo siguiente del curso actual.");
      });

      // =====================================
    //  ALGORTIMOS CL√çNICOS - ACCESO R√ÅPIDO
    // =====================================

    // Ajusta estas rutas a donde guardes tus im√°genes:
    const algoritmosClinicos = [
    {
        id: "ansiedad",
        titulo: "Diagn√≥stico de la Ansiedad",
        categoria: "Salud mental",
        imagen: "img/ABC Ansiedad-Algoritmo.jpg" // ABC ANSIEDAD-ALGORITMO.jpeg
    },
    {
        id: "depresion",
        titulo: "Diagn√≥stico de la Depresi√≥n",
        categoria: "Salud mental",
        imagen: "img/ABC DEPRESION-ALGORITMO.JPG" // ABC DEPRESION-ALGORITMO.jpeg
    },
    {
        id: "estres",
        titulo: "Diagn√≥stico del Estr√©s",
        categoria: "Salud mental",
        imagen: "img/abc estres-algoritmo.jpg" // ABC ESTRES-ALGORITMO.jpeg
    },
    {
        id: "ojo-seco",
        titulo: "Manejo del Ojo Seco (Primer nivel)",
        categoria: "Oftalmolog√≠a",
        imagen: "img/algoritmo-lab-gin.jpg" // algoritmo Ojo Seco
    },
    {
        id: "faringoamigdalitis",
        titulo: "Faringoamigdalitis ¬∑ Tratamiento",
        categoria: "Infectolog√≠a",
        imagen: "img/algoritmo (1).jpg" // FARINGOAMIGDALITIS
    }
    ];

    const fabAlg = document.getElementById("fabAlgoritmo");
    const algBackdrop = document.getElementById("algModalBackdrop");
    const algList = document.getElementById("algList");
    const algImg = document.getElementById("algImage");
    const algCaption = document.getElementById("algCaption");
    const algOpenFull = document.getElementById("algOpenFull");
    const algCloseBtn = document.getElementById("algCloseBtn");

    function openAlgModal() {
    algBackdrop.classList.add("show");
    }

    function closeAlgModal() {
    algBackdrop.classList.remove("show");
    }

    fabAlg.addEventListener("click", openAlgModal);
    algCloseBtn.addEventListener("click", closeAlgModal);

    // Cerrar al hacer click fuera de la tarjeta
    algBackdrop.addEventListener("click", (e) => {
    if (e.target === algBackdrop) closeAlgModal();
    });

    // Render lista de algoritmos en el modal
    let algListItems = [];

    function seleccionarAlgoritmo(alg, index) {
    algImg.src = alg.imagen;
    algImg.alt = alg.titulo;
    algCaption.textContent = alg.titulo + " ¬∑ " + alg.categoria;
    algOpenFull.href = alg.imagen;

    algListItems.forEach((li, i) => {
        li.classList.toggle("active", i === index);
    });
    }

    algoritmosClinicos.forEach((alg, index) => {
    const li = document.createElement("li");
    li.className = "alg-list-item";

    const cat = document.createElement("span");
    cat.className = "alg-cat";
    cat.textContent = alg.categoria;

    const title = document.createElement("span");
    title.className = "alg-title";
    title.textContent = alg.titulo;

    li.appendChild(cat);
    li.appendChild(title);

    li.addEventListener("click", () => seleccionarAlgoritmo(alg, index));

    algList.appendChild(li);
    algListItems.push(li);
    });

    // Seleccionar el primero por defecto
    if (algoritmosClinicos.length > 0) {
    seleccionarAlgoritmo(algoritmosClinicos[0], 0);
    }

    // =====================================
    //  MEN√ö USUARIO (US)
    // =====================================

    function getCurrentUser() {
    const raw = localStorage.getItem("currentUser");
    if (!raw) return null;
    try {
        return JSON.parse(raw);
    } catch (e) {
        return null;
    }
    }

    // Elementos del nav
    const navUserButton = document.getElementById("navUserButton");
    const userDropdown = document.getElementById("userDropdown");
    const navUserInitialsEl = document.getElementById("navUserInitials");
    const userAvatarInitials = document.getElementById("userAvatarInitials");
    const userDropdownName = document.getElementById("userDropdownName");
    const userDropdownEmail = document.getElementById("userDropdownEmail");

    function getInitials(name) {
    if (!name) return "US";
    const parts = name.trim().split(/\s+/);
    let initials = parts[0][0] || "";
    if (parts.length > 1) initials += parts[parts.length - 1][0] || "";
    return initials.toUpperCase();
    }

    // Poblar info del usuario en el men√∫
    (function initUserMenu() {
    const user = getCurrentUser();
    if (!user) return;

    const displayName =
        user.nombre ||
        user.name ||
        user.fullName ||
        user.username ||
        "Usuario";

    const email =
        user.email || user.correo || user.correoElectronico || "";

    const initials = getInitials(displayName);

    navUserInitialsEl.textContent = initials;
    userAvatarInitials.textContent = initials;
    userDropdownName.textContent = displayName;
    userDropdownEmail.textContent = email;
    })();

    // Toggle del dropdown
    navUserButton.addEventListener("click", (e) => {
    e.stopPropagation();
    userDropdown.classList.toggle("show");
    });

    // Cerrar al hacer click fuera
    document.addEventListener("click", (e) => {
    if (!userDropdown.contains(e.target) && e.target !== navUserButton) {
        userDropdown.classList.remove("show");
    }
    });

    // =====================================
    //  PERFIL (modal + guardar en localStorage)
    // =====================================
    const profileModal = document.getElementById("profileModal");
    const profileForm = document.getElementById("profileForm");
    const profileNameInput = document.getElementById("profileName");
    const profileEmailInput = document.getElementById("profileEmail");
    const profilePhoneInput = document.getElementById("profilePhone");
    const profileTypeInput = document.getElementById("profileType");

    function openProfileModal() {
    const user = getCurrentUser();
    if (user) {
        profileNameInput.value =
        user.nombre || user.name || user.fullName || "";
        profileEmailInput.value =
        user.email || user.correo || user.correoElectronico || "";
        profilePhoneInput.value = user.telefono || user.phone || "";
        profileTypeInput.value = user.tipo || user.especialidad || "";
    }
    profileModal.classList.add("show");
    }

    function closeProfileModal() {
    profileModal.classList.remove("show");
    }

    profileForm.addEventListener("submit", (e) => {
    e.preventDefault();
    const current = getCurrentUser() || {};
    const updated = {
        ...current,
        nombre: profileNameInput.value,
        email: profileEmailInput.value,
        telefono: profilePhoneInput.value,
        tipo: profileTypeInput.value,
    };
    localStorage.setItem("currentUser", JSON.stringify(updated));

    // refrescar datos del men√∫
    const initials = getInitials(updated.nombre);
    navUserInitialsEl.textContent = initials;
    userAvatarInitials.textContent = initials;
    userDropdownName.textContent = updated.nombre;
    userDropdownEmail.textContent = updated.email || "";

    closeProfileModal();
    alert("Perfil actualizado (guardado en localStorage).");
    });

    // Botones de cierre
    document
    .querySelector("[data-close-profile]")
    .addEventListener("click", closeProfileModal);

    profileModal.addEventListener("click", (e) => {
    if (e.target === profileModal) closeProfileModal();
    });

    // =====================================
    //  CALIFICACIONES / PROGRESO
    // =====================================
    const gradesModal = document.getElementById("gradesModal");
    const gradesList = document.getElementById("gradesList");

    function openGradesModal() {
    gradesList.innerHTML = "";

    const allCourses = [];
    courseSections.forEach((section) => {
        if (!section.courses) return;
        section.courses.forEach((course) => {
        allCourses.push({
            section: section.title,
            name: course.name,
            meta: course.meta || "",
            statusType: course.statusType || "disponible",
            statusText: course.statusText || "",
        });
        });
    });

    if (allCourses.length === 0) {
        gradesList.textContent = "A√∫n no hay cursos registrados.";
    } else {
        allCourses.forEach((c) => {
        const item = document.createElement("div");
        item.className = "grades-course";

        const title = document.createElement("div");
        title.className = "grades-course-title";
        title.textContent = c.name;

        const meta = document.createElement("div");
        meta.className = "grades-course-meta";
        meta.textContent = c.section + (c.meta ? " ¬∑ " + c.meta : "");

        const status = document.createElement("div");
        status.className =
            "grades-course-status " + (c.statusType || "");
        status.textContent = c.statusText || "Disponible";

        item.appendChild(title);
        item.appendChild(meta);
        item.appendChild(status);

        gradesList.appendChild(item);
        });
    }

    gradesModal.classList.add("show");
    }

    function closeGradesModal() {
    gradesModal.classList.remove("show");
    }

    document
    .querySelector("[data-close-grades]")
    .addEventListener("click", closeGradesModal);

    gradesModal.addEventListener("click", (e) => {
    if (e.target === gradesModal) closeGradesModal();
    });

    // =====================================
    //  LOGOUT
    // =====================================
    function logoutUser() {
    localStorage.removeItem("currentUser");
    // si usas otra key tipo "isLoggedIn", elim√≠nala tambi√©n
    // localStorage.removeItem("isLoggedIn");

    window.location.href = "index.html"; // cambia si tu login est√° en otra ruta
    }

    // =====================================
    //  Clicks en el men√∫ de usuario
    // =====================================
    userDropdown
    .querySelectorAll(".user-dropdown-item")
    .forEach((btn) => {
        btn.addEventListener("click", (e) => {
        const action = btn.getAttribute("data-action");
        userDropdown.classList.remove("show");

        if (action === "profile") {
            openProfileModal();
        } else if (action === "grades") {
            openGradesModal();
        } else if (action === "logout") {
            logoutUser();
        }
        });
    });

    // ==============================
    //  VADEM√âCUM SPOTLIGHT
    // ==============================
    const vademecumWrapper = document.querySelector(".vademecum-wrapper");
    const vademecumTrigger = document.getElementById("vademecumTrigger");
    const vademecumPanel = document.getElementById("vademecumPanel");
    const vademecumMainBtn = document.querySelector(
    ".vademecum-result-item.vademecum-main"
    );
    const vademecumSearchInput = document.getElementById("vademecumSearch");

    // Abrir enlace principal
    if (vademecumMainBtn) {
    const url = vademecumMainBtn.getAttribute("data-url");
    vademecumMainBtn.addEventListener("click", () => {
        window.open(url, "_blank", "noopener");
    });
    }

    // Abrir/cerrar panel por click en el trigger
    if (vademecumWrapper && vademecumTrigger && vademecumPanel) {
    vademecumTrigger.addEventListener("click", (e) => {
        e.stopPropagation();
        const isOpen = vademecumWrapper.classList.contains("open");
        // cerrar si ya est√° abierto
        if (isOpen) {
        vademecumWrapper.classList.remove("open");
        return;
        }
        // abrir
        vademecumWrapper.classList.add("open");
        // foco al input si existe
        if (vademecumSearchInput) {
        setTimeout(() => vademecumSearchInput.focus(), 50);
        }
    });

    // Cerrar al hacer click fuera
    document.addEventListener("click", (e) => {
        if (!vademecumWrapper.contains(e.target)) {
        vademecumWrapper.classList.remove("open");
        }
    });
    }

    // Enter en input -> por ahora abre Vadem√©cum general
    if (vademecumSearchInput && vademecumMainBtn) {
    vademecumSearchInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
        e.preventDefault();
        vademecumMainBtn.click();
        }
    });
    }

    // ==============================
    //   HERRAMIENTAS NAV ‚Üí REDIRIGIR
    // ==============================
    const navTools = document.getElementById("navTools");

    if (navTools) {
    navTools.addEventListener("click", (e) => {
        e.preventDefault(); // por si es <a>
        window.open(
        "https://www.campus-medicofa.com/revistawebmovil/Default.aspx",
        "_blank",
        "noopener"
        );
    });
    }

  </script>
</body>
</html>